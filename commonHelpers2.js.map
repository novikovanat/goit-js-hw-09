{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import validator from 'validator';\n\nconst form = document.querySelector('.feedback-form');\n\nlet savedfeedbackMessage = JSON.parse(\n  localStorage.getItem('feedback-form-state')\n);\n\nfunction addSavedInformation({ email = '', message = '' }) {\n  {\n    form.message.value = message;\n    form.email.value = email;\n  }\n  return;\n}\nif (savedfeedbackMessage !== null) {\n  addSavedInformation(savedfeedbackMessage);\n}\n\nlet feedbackMessage = {};\nform.addEventListener('input', inputHandler);\n\nfunction inputHandler(event) {\n  let email = event.currentTarget.elements[0].value;\n  let message = event.currentTarget.elements[1].value;\n  feedbackMessage.email = email.trim();\n  feedbackMessage.message = message.trim();\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(feedbackMessage));\n}\n\nform.addEventListener('submit', submitHandler);\n\nfunction submitHandler(event) {\n  event.preventDefault();\n  if (inputCheck(feedbackMessage)) {\n    console.log(feedbackMessage);\n    localStorage.removeItem('feedback-form-state');\n    form.reset();\n  } else {\n    alert('There is no email or message');\n  }\n}\n\nfunction inputCheck(obj) {\n  const { email = '', message = '' } = obj;\n  return validator.isEmail(email) && !validator.isEmpty(message);\n}\n"],"names":["form","savedfeedbackMessage","addSavedInformation","email","message","feedbackMessage","inputHandler","event","submitHandler","inputCheck","obj","validator"],"mappings":"yIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpD,IAAIC,EAAuB,KAAK,MAC9B,aAAa,QAAQ,qBAAqB,CAC5C,EAEA,SAASC,EAAoB,CAAE,MAAAC,EAAQ,GAAI,QAAAC,EAAU,EAAE,EAAI,CAEvDJ,EAAK,QAAQ,MAAQI,EACrBJ,EAAK,MAAM,MAAQG,CAGvB,CACIF,IAAyB,MAC3BC,EAAoBD,CAAoB,EAG1C,IAAII,EAAkB,CAAA,EACtBL,EAAK,iBAAiB,QAASM,CAAY,EAE3C,SAASA,EAAaC,EAAO,CAC3B,IAAIJ,EAAQI,EAAM,cAAc,SAAS,CAAC,EAAE,MACxCH,EAAUG,EAAM,cAAc,SAAS,CAAC,EAAE,MAC9CF,EAAgB,MAAQF,EAAM,OAC9BE,EAAgB,QAAUD,EAAQ,OAElC,aAAa,QAAQ,sBAAuB,KAAK,UAAUC,CAAe,CAAC,CAC7E,CAEAL,EAAK,iBAAiB,SAAUQ,CAAa,EAE7C,SAASA,EAAcD,EAAO,CAC5BA,EAAM,eAAc,EAChBE,EAAWJ,CAAe,GAC5B,QAAQ,IAAIA,CAAe,EAC3B,aAAa,WAAW,qBAAqB,EAC7CL,EAAK,MAAK,GAEV,MAAM,8BAA8B,CAExC,CAEA,SAASS,EAAWC,EAAK,CACvB,KAAM,CAAE,MAAAP,EAAQ,GAAI,QAAAC,EAAU,EAAE,EAAKM,EACrC,OAAOC,EAAU,QAAQR,CAAK,GAAK,CAACQ,EAAU,QAAQP,CAAO,CAC/D"}